---
layout: post
title: "Golang中的常量"
categories: golang
author:
- xihua
meta: "Springfield"
---
常量在任何时候都不能改变其值的，Golang中常量可以是字符串、枚举、布尔、字符类型。

常量可以使用const关键字来进行声明。重要的一点是常量必须在声明的时候进行赋值，不像其他类型的变量可以在后面进行赋值。

* 声明常量同时指定类型 - 首先是 const 关键字，然后是变量名称，后面是变量类型。常量必须像上面说的那样进行赋值。
```golang
    const c string = "articel"
```
* 声明常量不指定类型，这种称为无类型常量，无类型常量有隐式类型。其类型通过被赋值的值的类型来决定。
```golang
    const c = "circle"
```

* 同时声明多个常量
```golang
    const ( 
            c = "circle"
            s = "square"
    )
```
### 重点
* 常量不能在声明后被赋值。下面这个例子就会报编译错误
```golang
    package main
    func main() {
        const a int = 8
        a = 9
    }
```

* 常量的值必须在编译时就确定。因此一个常量不能被一个运行时的方法赋值。在下面这个程序中一个常量应该在编译过程中被赋值，但是getValue 这个方法只有在运行被调用,因此会在编译时报错。
```golang
    package main
    const name = "test"
    func main() {
        const a = getValue()
    }
    func getValue() int{
        return 1
    }
```
Error:
```golang
    const initializer getValue() is not constant
```

* 一个产量在内部作用域中声明，和一个变量在外部作用域中声明同名。在内部作用域会隐藏外部作用域声明的常量。
```golang
    package main
    import "fmt"
    const a = 123
    func main() {
        const a  = 456
        fmt.Println(a)
    }
```
Output:
```
    456
```
   

